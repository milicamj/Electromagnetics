<!DOCTYPE html><html lang="en"><head> <title>Electrostatic fields from distributed charges</title> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"/> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"/> 
<!-- charset=utf-8,-css,html,htex4ht,xhtml --> 
<meta name="src" content="digInElectricFieldDistributedCharge.tex"/> 
<meta name="author" content="Milica
                                                                  

                                                                  
Markovic"/> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"/> 
<meta name="ximera" content="version 0.0.1"/> 
<link href="https://ximera.osu.edu/public/stylesheets/standalone.css" rel="stylesheet" media="screen"/> 
<script type="text/javascript" async="" src="https://ximera.osu.edu/public/javascripts/standalone.min.js"></script> 
<meta name="learning-outcome" content="Students will be able to derive equations for electrostatic fields from a variety of charge distribution. Students will use MATLAB to visualize fields."/> 
<meta name="dependency" content="bbdc0ae3d2cf15daa427e9ba329f084b163e982f preamble.tex"/><meta name="dependency" content="f9aa6c0f1a545d7b3173ab6598ab8ac8279e5eef electrostatics/digInElectricFieldDistributedCharge.tex"/></head><body> 
<div class="preamble"><script type="math/tex">\newenvironment {prompt}{}{}
\newcommand {\ungraded }[0]{}
\newcommand {\todo }[0]{}
\newcommand {\oiint }[0]{{\large \bigcirc }\kern -1.56em\iint }
\newcommand {\mooculus }[0]{\textsf {\textbf {MOOC}\textnormal {\textsf {ULUS}}}}
\newcommand {\npnoround }[0]{\nprounddigits {-1}}
\newcommand {\npnoroundexp }[0]{\nproundexpdigits {-1}}
\newcommand {\npunitcommand }[1]{\ensuremath {\mathrm {#1}}}
\newcommand {\RR }[0]{\mathbb R}
\newcommand {\R }[0]{\mathbb R}
\newcommand {\N }[0]{\mathbb N}
\newcommand {\Z }[0]{\mathbb Z}
\newcommand {\sagemath }[0]{\textsf {SageMath}}
\newcommand {\d }[0]{\mathop {}\!d}
\newcommand {\l }[0]{\ell }
\newcommand {\ddx }[0]{\frac {d}{\d x}}
\newcommand {\zeroOverZero }[0]{\ensuremath {\boldsymbol {\tfrac {0}{0}}}}
\newcommand {\inftyOverInfty }[0]{\ensuremath {\boldsymbol {\tfrac {\infty }{\infty }}}}
\newcommand {\zeroOverInfty }[0]{\ensuremath {\boldsymbol {\tfrac {0}{\infty }}}}
\newcommand {\zeroTimesInfty }[0]{\ensuremath {\small \boldsymbol {0\cdot \infty }}}
\newcommand {\inftyMinusInfty }[0]{\ensuremath {\small \boldsymbol {\infty -\infty }}}
\newcommand {\oneToInfty }[0]{\ensuremath {\boldsymbol {1^\infty }}}
\newcommand {\zeroToZero }[0]{\ensuremath {\boldsymbol {0^0}}}
\newcommand {\inftyToZero }[0]{\ensuremath {\boldsymbol {\infty ^0}}}
\newcommand {\numOverZero }[0]{\ensuremath {\boldsymbol {\tfrac {\#}{0}}}}
\newcommand {\dfn }[0]{\textbf }
\newcommand {\unit }[0]{\mathop {}\!\mathrm }
\newcommand {\eval }[1]{\bigg [ #1 \bigg ]}
\newcommand {\seq }[1]{\left ( #1 \right )}
\newcommand {\epsilon }[0]{\varepsilon }
\newcommand {\phi }[0]{\varphi }
\newcommand {\iff }[0]{\Leftrightarrow }
\DeclareMathOperator {\arccot }{arccot}
\DeclareMathOperator {\arcsec }{arcsec}
\DeclareMathOperator {\arccsc }{arccsc}
\DeclareMathOperator {\si }{Si}
\DeclareMathOperator {\scal }{scal}
\DeclareMathOperator {\sign }{sign}
\newcommand {\arrowvec }[1]{{\overset {\rightharpoonup }{#1}}}
\newcommand {\vec }[1]{{\overset {\boldsymbol {\rightharpoonup }}{\mathbf {#1}}}\hspace {0in}}
\newcommand {\point }[1]{\left (#1\right )}
\newcommand {\pt }[1]{\mathbf {#1}}
\newcommand {\Lim }[2]{\lim _{\point {#1} \to \point {#2}}}
\DeclareMathOperator {\proj }{\mathbf {proj}}
\newcommand {\veci }[0]{{\boldsymbol {\hat {\imath }}}}
\newcommand {\vecj }[0]{{\boldsymbol {\hat {\jmath }}}}
\newcommand {\veck }[0]{{\boldsymbol {\hat {k}}}}
\newcommand {\vecl }[0]{\vec {\boldsymbol {\l }}}
\newcommand {\uvec }[1]{\mathbf {\hat {#1}}}
\newcommand {\utan }[0]{\mathbf {\hat {t}}}
\newcommand {\unormal }[0]{\mathbf {\hat {n}}}
\newcommand {\ubinormal }[0]{\mathbf {\hat {b}}}
\newcommand {\dotp }[0]{\bullet }
\newcommand {\cross }[0]{\boldsymbol \times }
\newcommand {\grad }[0]{\boldsymbol \nabla }
\newcommand {\divergence }[0]{\grad \dotp }
\newcommand {\curl }[0]{\grad \cross }
\newcommand {\lto }[0]{\mathop {\longrightarrow \,}\limits }
\newcommand {\bar }[0]{\overline }
\newcommand {\surfaceColor }[0]{violet}
\newcommand {\surfaceColorTwo }[0]{redyellow}
\newcommand {\sliceColor }[0]{greenyellow}
\newcommand {\vector }[1]{\left \langle #1\right \rangle }
\newcommand {\sectionOutcomes }[0]{}
\newcommand {\HyperFirstAtBeginDocument }[0]{\AtBeginDocument }                               </script><script type="text/javascript"> 
</script> 
</div>

                                                                  
<div class="abstract">
</div>   <div class="maketitle"></div>
<h3 class="sectionHead"><a id="x1-1000"></a>Electric Field due to a Charge Distribution</h3>
<!--l. 24--><p class="noindent">This is an optional section.
</p>
<h4 class="subsectionHead"><a id="x1-2000"></a>Derive Analytical Solution for the Electric field Due to a Loop of Charge
</h4>
<!--l. 30--><p class="noindent">We will first find the electric field due to a loop of charge. The loop of charge is
charged with the line charge density <script type="math/tex">\rho _l</script> and is in the X-Y plane, as shown in Figure <a class="reference" href="#fig:loopSinglePt">fig:loopSinglePt</a>. To
solve this problem, we first divide the loop into small pieces. The small (blue) arc
obtained in this way can be considered a point charge. The electric field
due to a point charge is shown in Figure <a class="reference" href="#fig:loopSinglePt">fig:loopSinglePt</a>(the blue arrow). The position
of the point charge is defined by a position vector <script type="math/tex">\vec {r_2}</script>. The position of point
P is defined with the position vector <script type="math/tex">\vec {r_1}</script>. The vector <script type="math/tex">\vec {dE}</script> is defined in Equation
<a class="reference" href="#genfieldloop">genfieldloop</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{dE}=\frac{dQ}{4 \pi \epsilon_{0} {r}^2} \hat{r} \label{genfieldloop}
\end{eqnarray}</script>
</div>
<!--l. 38--><p class="noindent">The total electric field at a point P is then equal to the sum of all the fields due to
the point charges, as shown in Figure <a class="reference" href="#fig:loopAllPts">fig:loopAllPts</a>. The equation for the total field is given in
Equation <a class="reference" href="#eqtotfieldring">eqtotfieldring</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{E}=\int\limits_{all \,\, point \,\, charges} \vec{dE} \label{eqtotfieldring}
\end{eqnarray}</script>
</div>
<hr class="figure"/><div class="figure">
                                                                  

                                                                  
<a id="x1-20011"></a>
                                                                  

                                                                  
<div class="center">
<!--l. 58--><p class="noindent">
</p><!--l. 59--><p class="noindent"><img src="../jpg/Charge_Distributionanypoint.jpg" alt="PIC"/>
<br/> </p><div class="caption"><span class="id">Figure 1: </span><span class="content"><a class="ximera-label" id="fig:loopSinglePt"></a>Loop of wire uniformly charged with line charge density <script type="math/tex">\rho _l</script>. Electric
field is shown due to a very small section (arc length) of the loop <script type="math/tex">dl</script>.</span></div><!--tex4ht:label?: x1-20011 -->
</div>
                                                                  

                                                                  
</div><hr class="endfigure"/>
<hr class="figure"/><div class="figure">
                                                                  

                                                                  
<a id="x1-20022"></a>
                                                                  

                                                                  
<div class="center">
<!--l. 65--><p class="noindent">
</p><!--l. 66--><p class="noindent"><img src="../jpg/ringefieldanywheremorecharges.jpg" alt="PIC"/>
<br/> </p><div class="caption"><span class="id">Figure 2: </span><span class="content"><a class="ximera-label" id="fig:loopAllPts"></a> Loop of wire uniformly charged with line charge density <script type="math/tex">\rho _l</script>. Electric
field is shown due to several very small sections (arc lengths) of the loop <script type="math/tex">dl</script>.</span></div><!--tex4ht:label?: x1-20022 -->
</div>
                                                                  

                                                                  
</div><hr class="endfigure"/>
<!--l. 71--><p class="noindent">The problem now is to represent all the variables in the Equation <a class="reference" href="#genfieldloop">genfieldloop</a> ( <script type="math/tex">dQ</script>, <script type="math/tex">dl</script>, <script type="math/tex">\hat {r}</script>
and <script type="math/tex">r</script>) using appropriate coordinate system and given charge distribution.
The total charge on the segment <script type="math/tex">dl</script> is equal to <script type="math/tex">dQ=\rho _l dl</script>. As seen in Figure <a class="reference" href="#fig:loopAllPts">fig:loopAllPts</a>, <script type="math/tex">dl</script> is an arc
length in the direction of theta, <script type="math/tex">dl=a\, d\theta </script>, where <script type="math/tex"> a</script> is the radius of the loop. The vector
<script type="math/tex">\vec {r_2}</script> is the position vector of the arc length <script type="math/tex">dl</script>, and the vector <script type="math/tex">\vec {r_1}</script> is the position
vector of the point be of the electric field calculation. Point P is an arbitrary
point in the Cartesian coordinate system, P(x,y,z), therefore its vector is
shown in Equation <a class="reference" href="#eq1loop">eq1loop</a>. The vector <script type="math/tex">\vec {r}</script> is the distance vector between the point
charge (the source) and the point at which we are calculating the electric
field.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r_1}=x \vec{a_x} + y \vec{a_y} +z\vec{a_z} \label{eq1loop}
\end{eqnarray}</script>
</div>
<!--l. 80--><p class="noindent">The vector <script type="math/tex">\vec {r_2}</script> can be written in Polar Coordinates as in Equation <a class="reference" href="#pcvec">pcvec</a>,where <script type="math/tex">a</script> is the radius
of the loop. The equation <a class="reference" href="#pcvec">pcvec</a> can be rewritten in Cartesian coordinate system as shown
in Equation <a class="reference" href="#csloopvec">csloopvec</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r_2}=a \, \vec{a_r} \label{pcvec} \\
\vec{a_r}= \,cos{\theta} \, \vec{a_x}+ sin{\theta} \, \vec{a_y} \\
\vec{r_2}=a \, cos{\theta}\,  \vec{a_x}+ a \, sin{\theta} \, \vec{a_y} \label{csloopvec}
\end{eqnarray}</script>
</div>
<!--l. 88--><p class="noindent">The two vectors mark the beginning and the end of the distance vector <script type="math/tex">\vec {r}</script>. The vector <script type="math/tex">\vec {r}</script>
is the sum of vectors <script type="math/tex">-\vec {r_2}</script> and <script type="math/tex">\vec {r_1}</script>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r}=\vec{r_1} + (-\vec{r_2})
\end{eqnarray}</script>
</div>
<!--l. 96--><p class="noindent">Or:
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r}= (x -  a \,cos{\theta}) \vec{a_x} +(y - a \,sin{\theta}) \vec{a_y} +z \vec{a_z}
\end{eqnarray}</script>
</div>
<!--l. 102--><p class="noindent">Vector <script type="math/tex">\vec {r}</script> has the magnitude of:
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
|\vec{r}|= \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}\label{vecrloop1}
                                                                  

                                                                  
\end{eqnarray}</script>
</div>
<!--l. 109--><p class="noindent">Unit vector in the direction of vector <script type="math/tex">\vec {r}</script> is:
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\hat{r}= \frac{\vec{r}}{|\vec{r}|} \\
\hat{r}=\frac{\vec{r}}{\sqrt{(x - a \, cos{\theta})^2 +(y - a  \, sin{\theta})^2 +z^2}}\label{vecrloop2}
\end{eqnarray}</script>
</div>
<!--l. 118--><p class="noindent">Replacing other variables in the Equations <a class="reference" href="#eq1loop">eq1loop</a>-<a class="reference" href="#vecrloop2">vecrloop2</a> to the Equation <a class="reference" href="#genfieldloop">genfieldloop</a>, we get the Equation <a class="reference" href="#totalfieldloop">totalfieldloop</a>
for the electric field <script type="math/tex">\vec {dE}</script> at a point P.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{dE}= \frac{\rho_l \, a \, d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3} \cdots  \nonumber \\ \cdots (x -  a \,cos{\theta}) \vec{a_x} +(y - a \,sin{\theta}) \vec{a_y} +z \vec{a_z} \label{totalfieldloop}
\end{eqnarray}</script>
</div>
<!--l. 124--><p class="noindent">Components of the electric field are given in Equations <a class="reference" href="#totalfieldloop1">totalfieldloop1</a>-<a class="reference" href="#totalfieldloop3">totalfieldloop3</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{dE_x}= \frac{\rho_l \, a \, d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3}   (x -  a \,cos{\theta}) \vec{a_x}  \label{totalfieldloop1} \\
\vec{dE_y}= \frac{\rho_l \, a \, d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3}   (y - a \,sin{\theta}) \vec{a_y}  \label{totalfieldloop2} \\
\vec{dE_z}= \frac{\rho_l \, a \, d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3}   z \vec{a_z} \label{totalfieldloop3}
\end{eqnarray}</script>
</div>
<!--l. 133--><p class="noindent">Each component of the field can be integrated separately, as shown in Equations
<a class="reference" href="#totalfieldloop4">totalfieldloop4</a>-<a class="reference" href="#totalfieldloop6">totalfieldloop6</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{E_x}= \int_0^{2\pi}\frac{\rho_l \,a \,        (x -  a \,cos{\theta})         d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3}    \vec{a_x}  \label{totalfieldloop4} \\
\vec{E_y}=  \int_0^{2\pi}\frac{\rho_l \, a \,   (y - a \,sin{\theta})   d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3}  \vec{a_y}  \label{totalfieldloop5} \\
\vec{E_z}=  \int_0^{2\pi}\frac{\rho_l \, a \,  z   d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }^3}  \vec{a_z} \label{totalfieldloop6}
\end{eqnarray}</script>
</div>
<!--l. 143--><p class="noindent">The integrals in Equations <a class="reference" href="#totalfieldloop4">totalfieldloop4</a>-<a class="reference" href="#totalfieldloop6">totalfieldloop6</a> can be integrated analytically in some special cases only.
In general, this is in an elliptical integral and cannot be solved analytically. However,
this integral can be sold numerically.
</p>
<h4 class="subsectionHead"><a id="x1-3000"></a>Derive Numerical solution to the Electric Field due to a Loop of Charge</h4>
<!--l. 148--><p class="noindent">The integrals in equations <a class="reference" href="#totalfieldloop4">totalfieldloop4</a>-<a class="reference" href="#totalfieldloop6">totalfieldloop6</a> can be represented as infinite sums using simple
numerical integration as shown in Equations <a class="reference" href="#totalfieldloop4n">totalfieldloop4n</a>-<a class="reference" href="#totalfieldloop6n">totalfieldloop6n</a>. Here we see that the continuous
                                                                  

                                                                  
function of <script type="math/tex">\theta </script> was replaced with the discrete values of <script type="math/tex">\theta </script>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{E_x}= \sum_{i=0}^{n}\frac{\rho_l \,a \,        (x -  a \,cos{\theta_i})         \Delta \theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta_i})^2 +(y - a \,sin{\theta_i})^2 +z ^2}  }^3}    \vec{a_x}  \label{totalfieldloop4n} \\
\vec{E_y}=  \sum_{i=0}^{n}\frac{\rho_l \, a \,   (y - a \,sin{\theta_i})  \Delta  \theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta_i})^2 +(y - a \,sin{\theta_i})^2 +z ^2}  }^3}  \vec{a_y}  \label{totalfieldloop5n} \\
\vec{E_z}=  \sum_{i=0}^{n}\frac{\rho_l \, a \,  z   \Delta \theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta_i})^2 +(y - a \,sin{\theta_i})^2 +z ^2}  }^3}  \vec{a_z} \label{totalfieldloop6n}
\end{eqnarray}</script>
</div>
<!--l. 159--><p class="noindent"><script type="math/tex">\Delta \theta </script> represents the length of the interval that the line is divided into, <script type="math/tex">\theta _i</script> represents the
value of angle at a certain point, and <script type="math/tex">i</script> designates different points on the loop. It
should be noted here that the error due to the trapezoidal rule can be improved by
using more advanced numerical integration techniques.
</p>
<h4 class="subsectionHead"><a id="x1-4000"></a>Matlab Code to Find the Electric Field due to a Loop of Charge </h4>
<!--l. 164--><p class="noindent">Equations <a class="reference" href="#totalfieldloop4n">totalfieldloop4n</a>-<a class="reference" href="#totalfieldloop6n">totalfieldloop6n</a> can be implemented in Matlab as shown below. Cut-and-paste the
program below in Matlab editor. Play with values for the size of the ring and
meshgrid values. For some values of the step, the vectors on the graph will completely
disappearcomment on why that may be.
</p><!--l. 166--><pre>clear all
 <br/>%Specify the extents of x,y,z axes
 <br/>rad=-2:1.9965:2;
 <br/>%Make X,Y,Z matrices
 <br/>[X Y Z]=meshgrid(rad);
 <br/>%Define constants epsilon, Q. They are obviously not physical.
 <br/>%They are set
 <br/>%to small constants so that we get smaller numbers.
 <br/>eps=1;
 <br/>Q=1;
 <br/>a=1;
 <br/>const=Q/(2*pi*eps);
 <br/>%Set the initial electric field components to zero.
 <br/>Ex=0;
 <br/>Ey=0;
 <br/>Ez=0;
 <br/>%Here we find the fieldl at all X,Y,Z points defined previously
 <br/>% from each of the &#34;unit&#34; charges on the ring.
 <br/>%th variable starts from 0.1
 <br/>%to avoid the infinite value of V at the point r=1,theta=0.
 <br/>for th=0.1:pi/20:2*pi
                                                                  

                                                                  
 <br/>t=const./ (sqrt((X-cos(th)).^2 + (Y-sin(th)).^2 + (Z).^2)).^(3);
 <br/>Ex = Ex+t.*(X-cos(th));
 <br/>Ey = Ey+t.*(Y-sin(th));
 <br/>Ez = Ez+t.*Z;
 <br/>end
 <br/>%Plot the field components Ex,Ey, Ez at points X,Y,Z.
 <br/>%Scale the vectors by factor 3.
 <br/>quiver3(X,Y,Z,Ex,Ey,Ez,3)
 <br/>hold on;
 <br/>%Plot the ring of charge where it is positioned in x-y plane.
 <br/>t = linspace(0,2*pi,1000);
 <br/>r=1;
 <br/>x = r*cos(t);
 <br/>y = r*sin(t);
 <br/>plot(x,y,’b’);
 <br/>hold off
<!--l. 204--></pre>

<h3 class="sectionHead"><a id="x1-5000"></a>Short line of charge</h3>
<div role="article" class="problem-environment problem" id="problem1"><a id="x1-5001r1"></a> Derive electric field integral, numerical solution for integral, then implement the
code in MATLAB, to find the electric field from a 1 m stick of charge, charged
with a uniform line charge density of <script type="math/tex">\rho _l=1nC/m</script>. The stick is positioned as in Figure
<a class="reference" href="#stickf">stickf</a>.
<hr class="figure"/><div class="figure">
                                                                  

                                                                  
<a id="x1-50023"></a>
                                                                  

                                                                  
<div class="center">
<!--l. 213--><p class="noindent">
</p><!--l. 214--><p class="noindent"><img src="../jpg/stickf.jpg" alt="PIC"/>
<br/> </p><div class="caption"><span class="id">Figure 3: </span><span class="content"><a class="ximera-label" id="stickf"></a> Stick of wire uniformly charged with line charge density <script type="math/tex">\rho _l</script>. Electric
field is shown due to a very small section of the line <script type="math/tex">dl</script>.</span></div><!--tex4ht:label?: x1-50023 -->
</div>
                                                                  

                                                                  
</div><hr class="endfigure"/>
<!--l. 219--><p class="noindent">In the simulation below, observe how changing the section of the selected piece of
charge (a red square) changes the field at a point P.
</p>
<div class="center">
<!--l. 221--><p class="noindent">
</p><!--l. 222--><p class="noindent"><iframe scrolling="no" src="https://tube.geogebra.org/material/iframe/id/fmwgw66c/width/800/height/600/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/false/ld/false/sri/false/at/auto" width="800px" height="600px" style="border:0px;"> </iframe></p></div>
<!--l. 225--><p class="noindent">Then click on the play button in the lower left corner of the simulation below to
watch how each piece of charge contributes to the total electric field.
</p>
<div class="center">
<!--l. 228--><p class="noindent">
</p><!--l. 229--><p class="noindent"><iframe scrolling="no" src="https://tube.geogebra.org/material/iframe/id/akfavjkx/width/800/height/600/border/888888/rc/false/ai/false/sdz/false/smb/false/stb/false/stbh/false/ld/false/sri/false/at/auto" width="800px" height="600px" style="border:0px;"> </iframe></p></div>
</div>
<h3 class="sectionHead"><a id="x1-6000"></a>Potential</h3>
<h4 class="subsectionHead"><a id="x1-7000"></a>Derive Analytical Solution for the Potential Due to a Loop of Charge </h4>
<!--l. 237--><p class="noindent">Derive the potential due to a ring of charge, charged with a line charge density
<script type="math/tex">\rho _l</script>.
</p><!--l. 240--><p class="noindent">Potential due to a point charge is given in Equation <a class="reference" href="#genpotloop">genpotloop</a>. We will first find the potential
due to a loop of charge. Assume that the loop of charge is charged with the line
charge density <script type="math/tex">\rho _l</script>. The loop of charge is in the X-Y plane, as shown in Figure <a class="reference" href="#loopanyptf">loopanyptf</a>. First, we
will divide the loop into small pieces. We will assume that the small arc obtained in
this way can be considered a point charge. The potential due to a point
charge at a point P is labeled in Figure <a class="reference" href="#loopanyptf">loopanyptf</a> as <script type="math/tex">dV</script>. The position of the point charge
is defined by a position vector <script type="math/tex">\vec {r_2}</script>. The position of point P is defined with
the position vector <script type="math/tex">\vec {r_1}</script>. The electric scalar potential <script type="math/tex">dV</script> is defined in Equation
<a class="reference" href="#genpotloop">genpotloop</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
dV=\frac{dQ}{4 \pi \epsilon_{0} {r}}  \label{genpotloop}
\end{eqnarray}</script>
</div>
<hr class="figure"/><div class="figure">
                                                                  

                                                                  
<a id="x1-70014"></a>
                                                                  

                                                                  
<div class="center">
<!--l. 249--><p class="noindent">
</p><!--l. 250--><p class="noindent"><img src="../jpg/Charge_Distributionanypointpot.jpg" alt="PIC"/></p></div>
<br/> <div class="caption"><span class="id">Figure 4: </span><span class="content">Loop of wire uniformly charged with line charge density <script type="math/tex">\rho _l</script>. Electric
field is shown due to a very small section (arc length) of the loop <script type="math/tex">dl</script>.</span></div><!--tex4ht:label?: x1-70014 -->
<a class="ximera-label" id="loopanyptf"></a>
                                                                  

                                                                  
</div><hr class="endfigure"/>
<!--l. 257--><p class="noindent">The total potential at a point P is then equal to the sum of all the potentials due to
the point charges, as shown in Figure <a class="reference" href="#loopanypt1">loopanypt1</a>. The equation for the total potential is given
in <a class="reference" href="#eqtotfieldringpot">eqtotfieldringpot</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
V=\int\limits_{all \,\, point \,\, charges} dV \label{eqtotfieldringpot}
\end{eqnarray}</script>
</div>
<hr class="figure"/><div class="figure">
                                                                  

                                                                  
<a id="x1-70025"></a>
                                                                  

                                                                  
<div class="center">
<!--l. 264--><p class="noindent">
</p><!--l. 265--><p class="noindent"><img src="../jpg/ringefieldanywheremorechargespot.jpg" alt="PIC"/></p></div>
<br/> <div class="caption"><span class="id">Figure 5: </span><span class="content">Loop of wire uniformly charged with line charge density <script type="math/tex">\rho _l</script>. Electric
field is shown due to several very small sections (arc lengths) of the loop <script type="math/tex">dl</script>. Each
section is modeled by a point charge <script type="math/tex">dQ</script>.</span></div><!--tex4ht:label?: x1-70025 -->
<a class="ximera-label" id="loopanypt1"></a>
                                                                  

                                                                  
</div><hr class="endfigure"/>
<!--l. 275--><p class="noindent">The problem now is to represent all the variables in the Equation <a class="reference" href="#genpotloop">genpotloop</a> ( <script type="math/tex">dQ</script>, <script type="math/tex">dl</script>, <script type="math/tex">\hat {r}</script> and <script type="math/tex">r</script>) using
appropriate coordinate system and given charge distribution. The total charge on the
segment <script type="math/tex">dl</script> is equal to <script type="math/tex">dQ=\rho _l dl</script>. As seen in Figure <a class="reference" href="#loopanyptf">loopanyptf</a>, <script type="math/tex">dl</script> is an arc length in the direction of
theta (blue arrow next to <script type="math/tex">dl</script>) <script type="math/tex">dl=a\, d\theta </script>, where <script type="math/tex"> a</script> is the radius of the loop. The vector
<script type="math/tex">\vec {r_2}</script> is the position vector of the arc length <script type="math/tex">dl</script>, and the vector <script type="math/tex">\vec {r_1}</script> is the position
vector of the point be of the electric field calculation. Point P is an arbitrary
point in the Cartesian coordinate system, P(x,y,z), therefore its vector is
shown in Equation <a class="reference" href="#eq1loopp">eq1loopp</a>. The vector <script type="math/tex">\vec {r}</script> is the distance vector between the point
charge (the source) and the point at which we are calculating the electric
field.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r_1}=x \vec{a_x} + y \vec{a_y} +z\vec{a_z} \label{eq1loopp}
\end{eqnarray}</script>
</div>
<!--l. 284--><p class="noindent">The vector <script type="math/tex">\vec {r_2}</script> can be written in Polar Coordinates as in equation <a class="reference" href="#pcvecp">pcvecp</a>,where <script type="math/tex">a</script> is the radius
of the loop. The Equation <a class="reference" href="#pcvecp">pcvecp</a> can be rewritten in Cartesian coordinate system as in
Equation <a class="reference" href="#csloopvecp">csloopvecp</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r_2}=a \, \vec{a_r} \label{pcvecp} \\
\vec{a_r}= \,cos{\theta} \, \vec{a_x}+ sin{\theta} \, \vec{a_y} \\
\vec{r_2}=a \, cos{\theta}\,  \vec{a_x}+ a \, sin{\theta} \, \vec{a_y} \label{csloopvecp}
\end{eqnarray}</script>
</div>
<!--l. 292--><p class="noindent">The two vectors mark the beginning and the end of the distance vector <script type="math/tex">\vec {r}</script>. The vector <script type="math/tex">\vec {r}</script>
is the sum of vectors <script type="math/tex">-\vec {r_2}</script> and <script type="math/tex">\vec {r_1}</script>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r}=\vec{r_1} + (-\vec{r_2})
\end{eqnarray}</script>
</div>
<!--l. 301--><p class="noindent">Therefore the vector’s <script type="math/tex">\vec {r}</script> magnitude is shown in Equations <a class="reference" href="#vecrloop1p">vecrloop1p</a>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
\vec{r}= (x -  a \,cos{\theta}) \vec{a_x} +(y - a \,sin{\theta}) \vec{a_y} +z \vec{a_z}
\end{eqnarray}</script>
</div>
<!--l. 308--><p class="noindent">Vector <script type="math/tex">\vec {r}</script> has the magnitude of:
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
|\vec{r}|= \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}\label{vecrloop1p}
                                                                  

                                                                  
\end{eqnarray}</script>
</div>
<!--l. 315--><p class="noindent">Replacing other variables in the Equations <a class="reference" href="#eq1loopp">eq1loopp</a>-<a class="reference" href="#vecrloop1p">vecrloop1p</a> to the Equation <a class="reference" href="#genpotloop">genpotloop</a>, we get the Equation <a class="reference" href="#totpot">totpot</a>
for the potential <script type="math/tex">dV</script> at a point P.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
dV= \frac{\rho_l \, a \, d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }}\label{totpot}
\end{eqnarray}</script>
</div>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
V= \int\limits_0^{2 \pi}\frac{\rho_l \, a \, d\theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta})^2 +(y - a \,sin{\theta})^2 +z ^2}  }}\label{totalfieldloopp2}
\end{eqnarray}</script>
</div>
<!--l. 334--><p class="noindent">The integral in Equation <a class="reference" href="#totalfieldloopp2">totalfieldloopp2</a> can be integrated analytically in some special
cases; however, this equation can be solved numerically, as shown in the next
section.
</p>
<h4 class="subsectionHead"><a id="x1-8000"></a>Derive Numerical solution to the Electric Field due to a Loop of Charge</h4>
<!--l. 345--><p class="noindent">The integrals in equations <a class="reference" href="#totalfieldloopp2">totalfieldloopp2</a> can be represented with infinite sum using simple
numerical integration (trapezoidal rule), as shown in Equations <a class="reference" href="#totalfieldloop6np">totalfieldloop6np</a>. Here we see
that the continuous function of <script type="math/tex">\theta </script> was replaced with the discrete values of
<script type="math/tex">\theta </script>.
</p>
<div class="eqnarray"><script type="math/tex; mode=display"> \begin{eqnarray} 
V=  \sum_{i=0}^{n}\frac{\rho_l \, a   \Delta \theta }{4 \pi \epsilon_{0} {  \sqrt{(x - a \,cos{\theta_i})^2 +(y - a \,sin{\theta_i})^2 +z ^2}  }}  \label{totalfieldloop6np}
\end{eqnarray}</script>
</div>
<!--l. 354--><p class="noindent">Where <script type="math/tex">\Delta \theta </script> represents the length of the interval that the line is divided into, <script type="math/tex">\theta _i</script> represents
the value of angle at a certain point, and <script type="math/tex">i</script> designates different points on the loop. It
should be noted here that the error due to the trapezoidal rule can be improved by
using more advanced numerical integration techniques.
</p>
<h4 class="subsectionHead"><a id="x1-9000"></a>Matlab Code to Find the Electric Potential due to a Loop of Charge </h4>
<!--l. 360--><p class="noindent">Plot the cross-section of the potential and the equipotential lines on the planes x=0,
y=0, z=0. </p><pre>clear all
 <br/>%Specify the extents of x,y,z axes
 <br/>rad=-1.5:0.1:1.5
                                                                  

                                                                  
 <br/>
 <br/>%Make X,Y,Z matrices
 <br/>[X Y Z]=meshgrid(rad,rad,rad)
 <br/>%Define constants epsilon, Q. They are obviously not physical.
 <br/>%They are set
 <br/>%to small constants so that we get smaller numbers.
 <br/>eps=1
 <br/>Q=1
 <br/>const=Q/(2*pi*eps)
 <br/>%Set the initial potential value to zero. Initialize V.
 <br/>V=0
 <br/>%Here we find the potential at all X, Y, Z points defined
 <br/>% previously from
 <br/>%each of the &#34;unit&#34; charges on the ring.
 <br/>%The th variable starts from 0.1
 <br/>%to avoid the infinite value of V at the point r=1,theta=0.
 <br/>
 <br/> for th=0.1:pi/20:2*pi
 <br/>     t=const./ sqrt((X-cos(th)).^2 + (Y-sin(th)).^2 + (Z).^2)
 <br/>V= V+t;
 <br/> end
 <br/>%Plot the volume distribution of potential at planes
 <br/>% x=0, y=0, z=0
 <br/>slice(X,Y,Z,V,[0],[0],[0])
 <br/>%Keep the same figure
 <br/>hold on;
 <br/>%Plot contours of potential at planes x=0, y=0, z=0. See
 <br/>%more on contours in appendix.
 <br/>h=contourslice(X,Y,Z,V,[0],[0],[0])
 <br/>set(h,’EdgeColor’,’k’,’LineWidth’,1.5)
<!--l. 395--></pre>

<h5 class="subsubsectionHead"><a id="x1-10000"></a> Plot several equipotential surfaces. </h5>
<!--l. 403--><pre> <br/>clear all
 <br/>%Specify the extents of x,y,z axes
 <br/>rad=-1.5:0.1:1.5
 <br/>
 <br/>%Make X,Y,Z matrices
 <br/>[X Y Z]=meshgrid(rad,rad,rad)
                                                                  

                                                                  
 <br/>%Define constants epsilon, Q. They are obviously not physical.
 <br/>%They are set
 <br/>%to small constants so that we get smaller numbers.
 <br/>eps=1
 <br/>Q=1
 <br/>const=Q/(2*pi*eps)
 <br/>%Set the initial potential value to zero. Initialize V.
 <br/>V=0
 <br/>%Here we find the potential at all X, Y, Z points defined
 <br/>%previously from
 <br/>%each of the &#34;unit&#34; charges on the ring. The th variable
 <br/>% starts from 0.1
 <br/>%to avoid the infinite value of V at the point r=1,theta=0.
 <br/>
 <br/> for th=0.1:pi/20:2*pi
 <br/>     t=const./ sqrt((X-cos(th)).^2 + (Y-sin(th)).^2 + (Z).^2)
 <br/>V= V+t;
 <br/> end
 <br/>%Plot the volume distribution of potential at planes
 <br/>% x=0, y=0, z=0
 <br/>p = patch(isosurface(X,Y,Z,V,7));
 <br/>isonormals(X,Y,Z,V,p)
 <br/>set(p,’FaceColor’,’red’,’EdgeColor’,’none’);
 <br/>daspect([1 1 1])
 <br/>view(3); axis tight
 <br/>camlight
 <br/>lighting gouraud
<!--l. 438--></pre>
<!--l. 442--><p class="noindent">Observe the equipotential surfaces. Explain why the surfaces doughnut are shaped?
What is the electric field direction on the surface? Change the isosurface from 7 to 10
or some larger number. How does the isosurface look now? How does the potential of
a ring of charge looks at the distances far away from the ring? What about the
field?
</p>
<h3 class="sectionHead"><a id="x1-11000"></a>Visualizing Scalar Fields in Matlab</h3>
<!--l. 452--><p class="noindent">To visualize scalar fields in Matlab, we can use the following functions: slice,
contourslice, patch, isonormals, camlight, and lightning. Please note that a more
detailed explanation about these functions shown here can be found in Matlab’s
help.
</p>
                                                                  

                                                                  
<h4 class="subsectionHead"><a id="x1-12000"></a>slice</h4>
<!--l. 456--><p class="noindent">Slice is a command that shows the magnitude of a scalar field on a plane that slices
the volume where the potential field is visualized. The format of this command is as
shown below.
</p><!--l. 458--><pre>slice(x,y,z,v,xslice,yslice,zslice)
<!--l. 460--></pre>
<!--l. 462--><p class="noindent">Where X, Y, and Z are coordinates of points where the scaler function is
calculated, V is v the scalar function at those points, and the last three
vectors xslice, yslice, and zslice are showing where will the volume will be
sliced.
</p><!--l. 464--><p class="noindent">An example of slice command is given below. In the example below, there is an
additional command colormap that colors the volume with a specific palette. To see
more about different color maps, see Matlab’s help. xslice has three points at which
the x-axis will be slice. They are -1.2, .8, 2. This means that the volume will be slice
with a plane that is perpendicular to the x-axis, and it crosses the x-axis at points
-1.2, .8, and 2.
</p><!--l. 466--><pre>clc
 <br/>clear all
 <br/>[x,y,z] = meshgrid(-2:.2:2,-2:.25:2,-2:.16:2);
 <br/>v = x.*exp(-x.^2-y.^2-z.^2);
 <br/>xslice = [-1.2,.8,2]; yslice = 1; zslice = [-2,0];
 <br/>slice(x,y,z,v,xslice,yslice,zslice)
 <br/>colormap hsv
<!--l. 474--></pre>

<h4 class="subsectionHead"><a id="x1-13000"></a>contourslice</h4>
<!--l. 478--><p class="noindent">Contourslice command will display equipotential lines on a plane being the volume
where the potential field is visualized. An example of a contourslice function is shown
below.
</p><!--l. 480--><pre>                                                                  

                                                                  
[x,y,z] = meshgrid(-2:.2:2,-2:.25:2,-2:.16:2);
 <br/>v = x.*exp(-x.^2-y.^2-z.^2); % Create volume data
 <br/>[xi,yi,zi] = sphere; % Plane to contour
 <br/>contourslice(x,y,z,v,xi,yi,zi)
 <br/>view(3)
<!--l. 486--></pre>

<h4 class="subsectionHead"><a id="x1-14000"></a>patch</h4>
<!--l. 490--><p class="noindent">Patch command creates a patch of color.
</p>
<h4 class="subsectionHead"><a id="x1-15000"></a>isonormals</h4>
<!--l. 495--><p class="noindent">Command isonormals create equipotential surfaces.
</p>
<h4 class="subsectionHead"><a id="x1-16000"></a>camlight</h4>
<!--l. 498--><pre>camlight(’headlight’) creates a light at the camera position.
 <br/>
 <br/>camlight(’right’) creates a light
 <br/>right and up from camera.
 <br/>
 <br/>camlight(’left’) creates a light
 <br/>left and up from camera.camlight with no arguments is the
 <br/>same as camlight(’right’).
 <br/>
 <br/>camlight(az,el) creates a light
 <br/>at the specified azimuth (az) and elevation (el)
 <br/>with respect to the camera position.
 <br/>
 <br/>The camera target is the center of rotation,
 <br/>and az and el are in degrees.
 <br/>
<!--l. 515--></pre>

                                                                  

                                                                  
<h4 class="subsectionHead"><a id="x1-17000"></a>lighting</h4>
<!--l. 522--><pre>Lighting flat selects flat lighting.
 <br/>
 <br/>Lighting gouraud selects gouraud lighting.
 <br/>
 <br/>Lighting phong selects phong lighting.
 <br/>
 <br/>lighting none turns off lighting.
<!--l. 530--></pre>
 
 

                                                                  

                                                                  
                                                                  


</body></html>